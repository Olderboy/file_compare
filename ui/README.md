# CSV文件混合对比工具 - UI界面

## 功能特性

这是一个基于PyQt5的图形用户界面，为CSV文件混合对比工具提供了友好的用户交互体验。

### 🎯 主要功能

- **文件选择**: 直观的文件浏览和选择界面
- **参数设置**: 完整的比较参数配置选项
- **实时进度**: 可视化的进度显示和状态更新
- **结果展示**: 多标签页的结果展示界面
- **报告导出**: 支持保存比较报告

### 🎨 界面特点

- **现代化设计**: 采用扁平化设计风格
- **响应式布局**: 支持窗口大小调整
- **直观操作**: 简单易用的操作流程
- **美观样式**: 精心设计的颜色搭配和字体

## 安装要求

### 系统要求
- Python 3.7+
- Windows 10/11, macOS 10.14+, 或 Linux

### 依赖包
```bash
pip install -r requirements.txt
```

主要依赖：
- PyQt5 >= 5.15.0
- pandas >= 1.3.0
- dask >= 2021.0.0

## 使用方法

### 启动UI
```bash
python run_ui.py
```

### 操作步骤

1. **选择文件**
   - 点击"浏览..."按钮选择两个CSV文件
   - 输入关键列名（用逗号分隔）

2. **配置参数**
   - 选择哈希算法（MD5/SHA1/SHA256）
   - 设置分块大小
   - 配置最大对比行数
   - 选择内存限制
   - 启用/禁用Dask处理

3. **开始比较**
   - 点击"开始比较"按钮
   - 观察实时进度和日志
   - 等待比较完成

4. **查看结果**
   - 在"结果摘要"标签页查看概览
   - 在"详细报告"标签页查看完整报告
   - 保存报告到文件

## 界面组件说明

### 左侧控制面板

- **文件选择区域**: 选择要比较的CSV文件和关键列
- **比较设置区域**: 配置各种比较参数
- **进度状态区域**: 显示当前进度和状态
- **操作控制区域**: 开始、停止、清空等操作按钮

### 右侧结果显示面板

- **实时日志标签页**: 显示比较过程的实时日志
- **结果摘要标签页**: 显示比较结果的简要信息
- **详细报告标签页**: 显示完整的比较报告

## 参数说明

### 哈希算法
- **MD5**: 快速，适用于一般场景
- **SHA1**: 安全性更高，速度适中
- **SHA256**: 最高安全性，速度较慢

### 分块大小
- 控制内存使用量
- 建议值：50万行（默认）
- 大文件可适当增加

### 最大对比行数
- 限制只比较前N行数据
- 适用于快速验证和性能测试
- 设置为0表示比较全部数据

### 内存限制
- 控制Dask处理的内存使用
- 根据系统内存选择合适的值

### Dask处理
- 适用于150万行以上的超大文件
- 提供并行处理能力
- 需要安装dask包

## 使用技巧

### 性能优化
1. **大文件处理**: 启用Dask处理
2. **快速验证**: 设置较小的最大对比行数
3. **内存管理**: 根据文件大小调整分块大小

### 结果分析
1. **查看摘要**: 快速了解比较结果
2. **详细报告**: 深入分析差异详情
3. **保存报告**: 便于后续分析和分享

### 错误处理
1. **文件格式**: 确保CSV文件格式正确
2. **关键列**: 验证关键列名是否存在
3. **内存不足**: 减少分块大小或启用Dask

## 故障排除

### 常见问题

**Q: 程序无法启动**
A: 检查Python版本和依赖包安装

**Q: 文件选择失败**
A: 确保文件路径正确且文件存在

**Q: 比较过程中出错**
A: 检查CSV文件格式和关键列设置

**Q: 界面显示异常**
A: 尝试调整窗口大小或重启程序

### 日志查看
- 实时日志显示在"实时日志"标签页
- 错误信息会显示在状态栏和日志中
- 详细错误信息可在控制台查看

## 开发信息

### 项目结构
```
ui/
├── __init__.py          # 包初始化文件
├── main_window.py       # 主窗口类
├── file_selection.py    # 文件选择组件
├── comparison_settings.py # 比较设置组件
├── progress_widget.py   # 进度显示组件
├── results_display.py   # 结果显示组件
├── comparison_worker.py # 比较工作线程
├── main.py             # 主程序入口
└── requirements.txt    # 依赖包列表
```

### 技术特点
- **模块化设计**: 每个功能独立成组件
- **信号槽机制**: 使用PyQt5的信号槽进行组件通信
- **多线程处理**: 后台执行比较操作，保持界面响应
- **样式表**: 使用QSS实现美观的界面样式

## 更新日志

### v1.0.0
- 初始版本发布
- 完整的UI界面
- 支持所有核心功能
- 美观的现代化设计

## 许可证

本项目采用MIT许可证，详见LICENSE文件。

## 贡献

欢迎提交Issue和Pull Request来改进这个工具！

## 联系方式

如有问题或建议，请通过以下方式联系：
- 提交GitHub Issue
- 发送邮件至项目维护者
